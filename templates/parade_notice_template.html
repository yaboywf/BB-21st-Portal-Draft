<header>
    <section>
        <img src="{{ url_for('static', filename='images/BB logo.webp') }}" alt="Logo">
        <div>
            <p>The boys' brigade in singapore</p>
            <p>21<sup>st</sup> company</p>
            <p>Geylang Methodist School (Secondary)</p>
        </div>
    </section>

    <span>This hope we have as an anchor of out soul, a hope both <br><b>sure and stedfast</b> and one which enters within the veil <br>where Jesus has entered as a forerunner for us...<br><i>Hebrews 6:19-20a</i></span>
</header>

<main>
    <section class="title">
        <h1>parade notice</h1>
        <h2>{{ parade.parade_date }}, {{ parade.day }}</h2>
    </section>

    <section class="details">
        <div>
            <p>Venue:</p>
            <span>{{ parade.venue }}</span>
        </div>

        <div>
            <p></p>
            <span></span>
        </div>
        
        <div>
            <p>Reporting Time:</p>
            <span>{{ parade.start_time }}</span>
        </div>
        
        <div>
            <p>Dismissal Time:</p>
            <span>{{ parade.end_time }}</span>
        </div>
    </section>

    <section class="roles">
        <div>
            <p>Duty Teacher:</p>
            <span>{{ parade.duty_teacher }}</span>
            <p>Duty Officer:</p>
            <span>{{ parade.duty_officer }}</span>
        </div>

        <div>
            <p>COS:</p>
            <span>{{ parade.cos }}</span>
            <p>Flag Bearer:</p>
            <span>{{ parade.flag_bearer_name }}</span>
        </div>

        <div>
            <p>CSM:</p>
            <span>{{ parade.csm_name }}</span>
            <p>CE:</p>
            <span>{{ parade.ce_name }}</span>
        </div>
    </section>

    <section class="company_announcements">
        <h2>Company Announcements</h2>
        <ol>
            {% if parade.company_announcements == '' %}
            <li>No announcements</li>
            {% else %}
            {% for announcement in parade.company_announcements.split("/bb21/") %}
            <li>{{ announcement }}</li>
            {% endfor %}
            {% endif %}
        </ol>
    </section>

    <section class="programs_container">
        <div class="programs">
            <div>
                <h2>Sec 1 platoon</h2>
                <h3>Program</h3>

                {% if parade.sec1_programs == '' %}
                    <p>No program</p>
                {% else %}
                    {% for item in parade.sec1_programs.split("/bb21/") %}
                        {% set clean_item = item | replace("{", "") | replace("}", "") %}
                        {% set key_value_pairs = clean_item.split(", ") %}
                        {% set ns = namespace(start_time='', end_time='', program_name='') %}

                        {% for pair in key_value_pairs %}
                            {% set key_value = pair.split(": ") %}
                            {% set key = key_value[0] | replace("'", "") %}
                            {% set value = key_value[1] | replace("'", "") %}

                            {# Assign values inside the namespace object #}
                            {% if key == "start_time" %}
                                {% set ns.start_time = value %}
                            {% elif key == "end_time" %}
                                {% set ns.end_time = value %}
                            {% elif key == "program_name" %}
                                {% set ns.program_name = value %}
                            {% endif %}
                        {% endfor %}

                        <div>
                            <p>
                                {% for letter in ns.start_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                            </p>
                            <p>-</p>
                            <p>
                                {% for letter in ns.end_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                                <span>:</span>
                            </p>
                            <p>{{ ns.program_name }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <div>
                <h3>Platoon Announcements</h3>
                <div>
                    <p>Attire:</p>
                    {% if parade.sec1_attire == '' %}
                    <span>NIL</span>
                    {% else %}
                    <span>{{ parade.sec1_attire }}</span>
                    {% endif %}
                </div>

                <ul>
                    {% if parade.sec1_announcements == '' %}
                    <li>No announcements</li>
                    {% else %}
                    {% for announcement in parade.sec1_announcements.split("/bb21/") %}
                    <li>{{ announcement }}</li>
                    {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
        <div class="programs">
            <div>
                <h2>Sec 2 platoon</h2>
                <h3>Program</h3>

                {% if parade.sec2_programs == '' %}
                    <p>No program</p>
                {% else %}
                    {% for item in parade.sec2_programs.split("/bb21/") %}
                        {% set clean_item = item | replace("{", "") | replace("}", "") %}
                        {% set key_value_pairs = clean_item.split(", ") %}
                        {% set ns = namespace(start_time='', end_time='', program_name='') %}

                        {% for pair in key_value_pairs %}
                            {% set key_value = pair.split(": ") %}
                            {% set key = key_value[0] | replace("'", "") %}
                            {% set value = key_value[1] | replace("'", "") %}

                            {# Assign values inside the namespace object #}
                            {% if key == "start_time" %}
                                {% set ns.start_time = value %}
                            {% elif key == "end_time" %}
                                {% set ns.end_time = value %}
                            {% elif key == "program_name" %}
                                {% set ns.program_name = value %}
                            {% endif %}
                        {% endfor %}

                        <div>
                            <p>
                                {% for letter in ns.start_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                            </p>
                            <p>-</p>
                            <p>
                                {% for letter in ns.end_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                                <span>:</span>
                            </p>
                            <p>{{ ns.program_name }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <div>
                <h3>Platoon Announcements</h3>
                <div>
                    <p>Attire:</p>
                    {% if parade.sec2_attire == '' %}
                    <span>NIL</span>
                    {% else %}
                    <span>{{ parade.sec2_attire }}</span>
                    {% endif %}
                </div>

                <ul>
                    {% if parade.sec2_announcements == '' %}
                    <li>No announcements</li>
                    {% else %}
                    {% for announcement in parade.sec2_announcements.split("/bb21/") %}
                    <li>{{ announcement }}</li>
                    {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
        <div class="programs">
            <div>
                <h2>Sec 3 platoon</h2>
                <h3>Program</h3>

                {% if parade.sec3_programs == '' %}
                    <p>No program</p>
                {% else %}
                    {% for item in parade.sec3_programs.split("/bb21/") %}
                        {% set clean_item = item | replace("{", "") | replace("}", "") %}
                        {% set key_value_pairs = clean_item.split(", ") %}
                        {% set ns = namespace(start_time='', end_time='', program_name='') %}

                        {% for pair in key_value_pairs %}
                            {% set key_value = pair.split(": ") %}
                            {% set key = key_value[0] | replace("'", "") %}
                            {% set value = key_value[1] | replace("'", "") %}

                            {# Assign values inside the namespace object #}
                            {% if key == "start_time" %}
                                {% set ns.start_time = value %}
                            {% elif key == "end_time" %}
                                {% set ns.end_time = value %}
                            {% elif key == "program_name" %}
                                {% set ns.program_name = value %}
                            {% endif %}
                        {% endfor %}

                        <div>
                            <p>
                                {% for letter in ns.start_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                            </p>
                            <p>-</p>
                            <p>
                                {% for letter in ns.end_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                                <span>:</span>
                            </p>
                            <p>{{ ns.program_name }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <div>
                <h3>Platoon Announcements</h3>
                <div>
                    <p>Attire:</p>
                    {% if parade.sec3_attire == '' %}
                    <span>NIL</span>
                    {% else %}
                    <span>{{ parade.sec3_attire }}</span>
                    {% endif %}
                </div>

                <ul>
                    {% if parade.sec3_announcements == '' %}
                    <li>No announcements</li>
                    {% else %}
                    {% for announcement in parade.sec3_announcements.split("/bb21/") %}
                    <li>{{ announcement }}</li>
                    {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
        <div class="programs">
            <div>
                <h2>Sec 4 platoon</h2>
                <h3>Program</h3>

                {% if parade.sec4_programs == '' %}
                    <p>No program</p>
                {% else %}
                    {% for item in parade.sec4_programs.split("/bb21/") %}
                        {% set clean_item = item | replace("{", "") | replace("}", "") %}
                        {% set key_value_pairs = clean_item.split(", ") %}
                        {% set ns = namespace(start_time='', end_time='', program_name='') %}

                        {% for pair in key_value_pairs %}
                            {% set key_value = pair.split(": ") %}
                            {% set key = key_value[0] | replace("'", "") %}
                            {% set value = key_value[1] | replace("'", "") %}

                            {# Assign values inside the namespace object #}
                            {% if key == "start_time" %}
                                {% set ns.start_time = value %}
                            {% elif key == "end_time" %}
                                {% set ns.end_time = value %}
                            {% elif key == "program_name" %}
                                {% set ns.program_name = value %}
                            {% endif %}
                        {% endfor %}

                        <div>
                            <p>
                                {% for letter in ns.start_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                            </p>
                            <p>-</p>
                            <p>
                                {% for letter in ns.end_time %}
                                <span>{{ letter }}</span>
                                {% endfor %}
                                <span>:</span>
                            </p>
                            <p>{{ ns.program_name }}</p>
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
            <div>
                <h3>Platoon Announcements</h3>
                <div>
                    <p>Attire:</p>
                    {% if parade.sec4_attire == '' %}
                    <span>NIL</span>
                    {% else %}
                    <span>{{ parade.sec4_attire }}</span>
                    {% endif %}
                </div>

                <ul>
                    {% if parade.sec4_announcements == '' %}
                    <li>No announcements</li>
                    {% else %}
                    {% for announcement in parade.sec4_announcements.split("/bb21/") %}
                    <li>{{ announcement }}</li>
                    {% endfor %}
                    {% endif %}
                </ul>
            </div>
        </div>
    </section>
</main>

<footer>
    <p>Page | 1 of 1</p>
    <p>Version 2025_v1.0</p>
</footer>